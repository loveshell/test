<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=gb2312" /><title>Apanic IP地址段的获取与整理方法介绍-linux-电脑编程网</title><meta name="keywords" content="Apanic IP地址段的获取与整理方法介绍,linux" /><meta name="description" content="导读：Apanic IP地址段的获取与整理方法介绍 摘要APNIC负责管理亚太地区国家的IP地址和AS号码分配。本文介绍了如何通过APNIC提供的IP地址分配信息和w..." /><link href="http://www.dnbcw.info/css/info_show.css" rel="stylesheet" type="text/css"/></head><body><div class="all"><div class="all_l"><div id=danav></div><div class="nav bglv"><img src="http://www.dnbcw.info/images/logo1.gif" alt="电脑编程网" align="absmiddle"><a href="http://www.dnbcw.info/">电脑编程网</a> &gt; <a href="http://biancheng.dnbcw.info/linux/">linux</a> &gt; 正文<a href="http://www.dnbcw.info/rss.php?id=9"><img src=http://www.dnbcw.info/images/rss.gif alt="订阅本分类信息" border="0" /></a></div><div class=db><h1>Apanic IP地址段的获取与整理方法介绍</h1><div class=hui style='overflow:auto'>作者：佚名　和<a href="http://biancheng.dnbcw.info/linux/"><strong>linux</strong></a>相关&nbsp;&nbsp;</div><div style="height:250px;margin:10px 0"><div style="float:left"><script type="text/javascript"><!--
google_ad_client = "ca-pub-5582534119917896";
/* 300x250, 创建于 09-5-11 */
google_ad_slot = "3847221247";
google_ad_width = 300;
google_ad_height = 250;
//-->
</script><script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script></div><div style="float:right"><script type="text/javascript">/*300*250，创建于2012-9-8*/ var cpro_id = 'u1053763';</script><script src="http://cpro.baidustatic.com/cpro/ui/c.js" type="text/javascript"></script></div></div><div style='overflow:auto'><div id="bdshare" class="bdshare_t bds_tools get-codes-bdshare"><a class="bds_tsina">新浪微博</a><a class="bds_qzone">QQ空间</a><a class="bds_tqq">QQ微博</a><a class="bds_baidu">百度搜藏</a><a class="bds_tqf">腾讯朋友</a><a class="bds_qq">QQ收藏</a><a class="bds_hi">百度空间</a><a class="bds_renren">人人网</a><a class="bds_kaixin001">开心网</a><a class="shareCount"></a></div></div><div class=content>Apanic IP地址段的获取与整理方法介绍
            
            <div>
             <p><strong>摘要</strong><br>
APNIC负责管理亚太地区国家的IP地址和AS号码分配。本文介绍了如何通过APNIC提供的IP地址分配信息和whois工具生成一种IP地址库。</p>
<p><strong>Apnic介绍</strong><br>
简而言之，Apnic是全球5个地区级的Internet注册机构（RIR）之一，负责亚太地区的以下一些事务：<br>
（1）分配IPv4和IPv6地址空间，AS号<br>
（2）为亚太地区维护Whois<a href=http://biancheng.dnbcw.info/sql/>数据库</a><br>
（3）反向DNS指派<br>
（4）在全球范围内作为亚太地区的Internet社区的代表<br>
更详细的Apnic介绍文档请参见：</p>
<p>http://www.apnic.net/about-APNIC/organization</p>
<p>或者</p>
<p>http://en.wikipedia.org/wiki/Asia-Pacific_Network_Information_Centre</p>
<p><br>
<strong>Apanic IP地址分配信息总表</strong></p>
<p>Apanic提供了每日更新的亚太地区IPv4，IPv6，AS号分配的信息表，访问url是</p>
<p>http://ftp.apnic.net/apnic/stats/apnic/delegated-apnic-latest</p>
<p>该文件的格式与具体内容参加<br>
ftp://ftp.apnic.net/pub/apnic/stats/apnic/README.TXT</p>
<p>通过该文件我们能够得到Apnic辖下IPv4地址空间的分配情况。但从该文件中我们只能得到<br>
apnic|CN|ipv4|1.2.2.0|256|20110331|assigned<br>
等级机构|获得该IP段的国家/组织|资源类型|起始IP|IP段长度|分配日期|分配状态</p>
<p>但关于省、运营商、地址、路由等信息仍然无法获取</p>
<p><strong>信息总表的扩展</strong></p>
<p>在获取上述总表的基础上，我们通过不断的进行whois，就能得到更多的信息</p>
<p>例如，这对起始IP 1.4.4.0，我们运行whois 1.4.4.0，得到如下的信息</p>
<p>whois 1.4.4.0<br>
[Querying whois.arin.net]<br>
[Redirected to whois.apnic.net]<br>
[Querying whois.apnic.net]<br>
[whois.apnic.net]<br>
% [whois.apnic.net node-1]<br>
% Whois data copyright terms    http://www.apnic.net/db/dbcopyright.html</p>
<p>inetnum:        1.4.4.0 C 1.4.4.255<br>
netname:        KNET<br>
descr:          KNET Techonlogy (BeiJing) Co.,Ltd.<br>
descr:          4,South 4th treet, Zhongguancun,Haidian District,Beijing<br>
country:        CN<br>
admin-c:        HS1165-AP<br>
tech-c:         WL1818-AP<br>
mnt-by:         MAINT-CNNIC-AP<br>
mnt-routes:     MAINT-CNNIC-AP<br>
mnt-irt:        IRT-CNNIC-CN<br>
status:         ASSIGNED PORTABLE<br>
changed:        hm-changed@apnic.net 20110331<br>
source:         APNIC</p>
<p>person:         Hanhui Sun<br>
address:        4,South 4th treet, Zhongguancun,Haidian District,Beijing<br>
country:        CN<br>
phone:          +86-010-58813102<br>
fax-no:         +86-010-58812666-126<br>
e-mail:         sunhanhui@knet.cn<br>
nic-hdl:        HS1165-AP<br>
mnt-by:         MAINT-CNNIC-AP<br>
changed:        ipas@cnnic.net.cn 20110315<br>
source:         APNIC</p>
<p>person:         Wenzhe Lu<br>
address:        4,South 4th treet, Zhongguancun,Haidian District,Beijing<br>
country:        CN<br>
phone:          +86-010-58813017<br>
fax-no:         +86-010-58812666-126<br>
e-mail:         lwz@knet.cn<br>
nic-hdl:        WL1818-AP<br>
mnt-by:         MAINT-CNNIC-AP<br>
changed:        ipas@cnnic.net.cn 20110315<br>
source:         APNIC </p>
<p>其中我们比较关注的信息有：<br>
inetnum：起始和终止IP地址<br>
netname： 网络名（运营商/Org等）<br>
country： 国家<br>
descr： 描述信息（往往含有地域、ISP等信息）<br>
address: 地址信息</p>
<p>通过不断对上述的信息总表的起始IP地址进行whois，我们可以得到详细的IP地址对应的地域、ISP、Org等信息</p>
<p>实现时，在对上述信息总表的起始IP地址进行whois时，需要考虑到两种情况：<br>
（1）对信息总表起始IP地址进行whois时，得到的inetnum中包含的IP地址数目经常会小于信息总表中对应的IP数，因此往往需要多次whois才能得到最终的结果<br>
（2）对信息总表起始IP地址进行whois时，得到的inetnum中的起始IP有可能会小于信息总表中的起始IP，这时也需要进行处理，否则可能使得最终的结果出现IP段交叉的情况</p>
<p><strong>Apnic whois库处理流程总结</strong><br>
为了获取Apnic whois库的完整结果，可以遵循下面的流程：<br>
（1）通过http://ftp.apnic.net/apnic/stats/apnic/delegated-apnic-latest获取Apanic负责分配的所有IPv4地址段的起始地址和长度<br>
（2）通过对上述IP段进行whois操作，得到该IP段的相关信息<br>
（3）whois结果的信息提取、处理和规范化。常见的处理包括国家、省、市、ISP、机构等信息的提取，英文与中文的转化等</p>
<p>通过上述三步，我们就能够得到whois库的结果</p>
            </div></div><h3>相关资料：</h3><ul class=ul_xiangguan><li><a href=http://biancheng.dnbcw.info/linux/>linux</a>｜<a href=http://biancheng.dnbcw.info/linux/422274.html>剖析Linux日志系统</a></li><li><a href=http://biancheng.dnbcw.info/linux/>linux</a>｜<a href=http://biancheng.dnbcw.info/linux/422275.html>sendmail 非root 实现邮件转发功能 通过.forward实现</a></li><li><a href=http://biancheng.dnbcw.info/linux/>linux</a>｜<a href=http://biancheng.dnbcw.info/linux/422277.html>cap/pcap类文件无法用wireshark打开</a></li><li><a href=http://biancheng.dnbcw.info/linux/><span style="color:red">linux</span></a>｜<a href="http://biancheng.dnbcw.info/linux/422273.html"><span style="color:red">Apanic IP地址段的获取与整理方法介绍</span></a></li><li><a href=http://biancheng.dnbcw.info/linux/>linux</a>｜<a href=http://biancheng.dnbcw.info/linux/422272.html>Android系统启动流程 -- bootloader</a></li><li><a href=http://biancheng.dnbcw.info/linux/>linux</a>｜<a href=http://biancheng.dnbcw.info/linux/422271.html>Android系统启动流程 -- linux kernel</a></li><li><a href=http://biancheng.dnbcw.info/linux/>linux</a>｜<a href=http://biancheng.dnbcw.info/linux/422270.html>u-boot移植网络接口部分问题总结</a></li></ul><p><strong>Apanic IP地址段的获取与整理方法介绍</strong>来源网络，如有侵权请告知，即处理！</p></div></div><div class="all_r"><h3 class=bglv>编程Tags：</h3><div class=content><a href=http://biancheng.dnbcw.info/asp/>asp</a>　<a href=http://biancheng.dnbcw.info/sql/>数据库</a>　<a href=http://biancheng.dnbcw.info/java/>java</a>　<a href=http://biancheng.dnbcw.info/javascript/>javascript</a>　<a href=http://biancheng.dnbcw.info/php/>php</a>　<a href=http://biancheng.dnbcw.info/jsp/>jsp</a>　<a href=http://biancheng.dnbcw.info/c/>c/c++</a>　<a href=http://biancheng.dnbcw.info/win2003/>服务器</a>　<a href=http://biancheng.dnbcw.info/linux/>linux</a>　<a href=http://biancheng.dnbcw.info/net/>asp.net</a>　<a href=http://biancheng.dnbcw.info/ajax/>ajax</a>　<a href=http://biancheng.dnbcw.info/vb/>vb</a>　<a href=http://biancheng.dnbcw.info/Delphi/>Delphi</a>　<a href=http://biancheng.dnbcw.info/vc/>vc</a>　<a href=http://biancheng.dnbcw.info/mysql/>mysql</a>　<a href=http://biancheng.dnbcw.info/mssql/>mssql</a>　<a href=http://biancheng.dnbcw.info/oracle/>oracle</a>&nbsp;<a href=http://biancheng.dnbcw.info/access/>access</a>　<a href=http://biancheng.dnbcw.info/flash/>flash</a>　<a href=http://biancheng.dnbcw.info/jiami/>加密</a>　<a href=http://biancheng.dnbcw.info/md5/>md5</a><br><a href=http://biancheng.dnbcw.info/zhengzebiaodashi/>正则表达式</a>　<a href=http://biancheng.dnbcw.info/css/>css</a>　<a href=http://biancheng.dnbcw.info/dos/>dos</a>　<a href=http://biancheng.dnbcw.info/zhucebiao/>注册表</a>　<a href=http://biancheng.dnbcw.info/ubuntu/>ubuntu</a>　<a href=http://biancheng.dnbcw.info/excel/>excel</a>　<a href=http://biancheng.dnbcw.info/apache/>apache</a>　<a href=http://biancheng.dnbcw.info/python/>python</a>　<a href=http://biancheng.dnbcw.info/ruby/>ruby</a>　<a href=http://biancheng.dnbcw.info/flex/>flex</a>　<a href=http://biancheng.dnbcw.info/perl/>perl</a>　<a href=http://biancheng.dnbcw.info/Windows7/>Windows7</a><br><a href=http://biancheng.dnbcw.info/shouji/>手机软件</a>　<a href=http://biancheng.dnbcw.info/j2ee/>j2ee</a><br><a href=http://biancheng.dnbcw.info/texiao/>网页特效</a>　<a href=http://biancheng.dnbcw.info/jquery/>jquery</a><br><a href=http://biancheng.dnbcw.info/1000wen/>编程10000问</a>　<a href=http://biancheng.dnbcw.info/bsd/>BSD</a>　<a href=http://biancheng.dnbcw.info/solaris/>Solaris</a>　<a href=http://biancheng.dnbcw.info/aix/>AIX</a>　<a href=http://biancheng.dnbcw.info/shell/>Shell</a></div><br><script type="text/javascript"><!--
google_ad_client = "ca-pub-5582534119917896";
/* 160x600 */
google_ad_slot = "9022285783";
google_ad_width = 160;
google_ad_height = 600;
//-->
</script><script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script><br /><br /><div id=daright1></div></div></div><script src=http://www.dnbcw.info/js/da.js type="text/javascript"></script><div id=danav_h><script>da("danav")</script></div><div id=daright1_h><script>da("daright1")</script></div><div class=bottom><script src=http://www.dnbcw.info/js/bottom.js type="text/javascript"></script></div><script type="text/javascript" id="bdshare_js" data="type=tools" ></script><script type="text/javascript" id="bdshell_js"></script><script type="text/javascript">document.getElementById("bdshell_js").src = "http://bdimg.share.baidu.com/static/js/shell_v2.js?t=" + new Date().getHours();</script></body></html>